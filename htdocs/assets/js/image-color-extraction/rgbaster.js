!function(n,t){"use strict";var e=function(){return document.createElement("canvas").getContext("2d")},a=function(n,t){var a=new Image,o=n.src||n;"data:"!==o.substring(0,5)&&(a.crossOrigin="Anonymous"),a.onload=function(){var n=e();n.drawImage(a,0,0);var o=n.getImageData(0,0,a.width,a.height);t&&t(o.data)},a.src=o},o=function(n){return["rgb(",n,")"].join("")},r=function(n){return n.map(function(n){return o(n.name)})},i=5,c=10,u={};u.colors=function(n,e){e=e||{};var u=e.exclude||[],m=e.paletteSize||c;a(n,function(a){for(var c=n.width*n.height||a.length,s={},d="",f=[],l={dominant:{name:"",count:0},palette:Array.apply(null,new Array(m)).map(Boolean).map(function(n){return{name:"0,0,0",count:0}})},g=0;g<c;)if(f[0]=a[g],f[1]=a[g+1],f[2]=a[g+2],d=f.join(","),f.indexOf(t)===-1){if(d in s?s[d]=s[d]+1:s[d]=1,u.indexOf(o(d))===-1){var p=s[d];p>l.dominant.count?(l.dominant.name=d,l.dominant.count=p):l.palette.some(function(n){if(p>n.count)return n.name=d,n.count=p,!0})}g+=4*i}else g+=4*i;if(e.success){var v=r(l.palette);e.success({dominant:o(l.dominant.name),secondary:v[0],palette:v})}})},n.RGBaster=n.RGBaster||u}(window);